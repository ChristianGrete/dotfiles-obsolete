#!/bin/sh

basename="$(basename "${0:-dotfiles}")"

usage="$(cat <<EOF
Usage: $basename [option] [command]

Options:
  -h, --help     Show usage (print this text)
  -v, --version  Print dotfiles version
EOF)"

# TODO: Add commands (add, remove, update, etc.)

version="${DOTFILES_VERSION:=$(git describe --tags $(
  git rev-list --max-count=1 --tags
))}"

if [ "$1" = '-h' ] || [ "$1" = '--help' ]
  then
    echo "$usage"

    exit
fi

if [ "$1" = '-v' ] || [ "$1" = '--version' ]
  then
    echo "$version"

    exit
fi

unset basename usage version
